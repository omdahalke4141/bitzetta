{% load static %}

<!DOCTYPE html>
<html lang="zxx">

<head>
  <meta charset="utf-8">
  <title>BitZetta</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <!-- ** Plugins Needed for the Project ** -->
  <!-- Bootstrap -->
  <link rel="stylesheet" href="{% static 'toi/plugins/bootstrap/bootstrap.min.css' %}">
  <!-- slick slider -->
  <link rel="stylesheet" href="{% static 'toi/plugins/slick/slick.css' %}">
  <!-- themefy-icon -->
  <link rel="stylesheet" href="{% static 'toi/plugins/themify-icons/themify-icons.css' %}">
  <!-- animation css -->
  <link rel="stylesheet" href="{% static 'toi/plugins/animate/animate.css' %}">
  <!-- aos -->
  <link rel="stylesheet" href="{% static 'toi/plugins/aos/aos.css' %}">
  <!-- venobox popup -->
  <link rel="stylesheet" href="{% static 'toi/plugins/venobox/venobox.css' %}">

  <!-- Main Stylesheet -->
  <link href="{% static 'toi/css/style.css' %}" rel="stylesheet">
  
  <!--Favicon-->
  <link rel="shortcut icon" href="{% static 'toi/images/favicon.ico' %}" type="image/x-icon">
  <link rel="icon" href="{% static 'toi/images/favicon.ico' %}" type="image/x-icon">

  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  
  <style>
    .apply-now-btn {
      background-color: orange;
      color: white;
      border: none;
    }
  
    .apply-now-btn:hover {
      background-color: darkorange;
      color: white;
    }
  </style>
 
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
</head>

<body>

 

  

<!-- header -->
<header class="fixed-top header">
  <!-- top header -->
  <div class="top-header py-2 bg-white">
    <div class="container">
      <div class="row no-gutters">
        <div class="col-lg-4 text-center text-lg-left">
          <a class="text-color mr-3" href="callto:+443003030266"><strong>CALL</strong> 73858 51808 / 8788403218</a>
          <ul class="list-inline d-inline">
            <li class="list-inline-item mx-0"><a class="d-inline-block p-2 text-color" href="#"><i
                  class="ti-facebook"></i></a></li>
            <!-- <li class="list-inline-item mx-0"><a class="d-inline-block p-2 text-color" href="#"><i class="ti-twitter-alt"></i></a></li> -->
            <!-- <li class="list-inline-item mx-0"><a class="d-inline-block p-2 text-color" href="#"><i class="ti-linkedin"></i></a></li> -->
            <li class="list-inline-item mx-0"><a class="d-inline-block p-2 text-color"
                href="https://www.instagram.com/BitZetta IT Solutions LLP"><i class="ti-instagram"></i></a></li>
          </ul>
        </div>
        <div class="col-lg-8 text-center text-lg-right">
          <ul class="list-inline">
            <!-- <li class="list-inline-item"><a class="text-uppercase text-color p-sm-2 py-2 px-0 d-inline-block" href="{% static 'toi/notice.html' %}">notice</a></li>
              <li class="list-inline-item"><a class="text-uppercase text-color p-sm-2 py-2 px-0 d-inline-block" href="{% static 'toi/research.html' %}">research</a></li>
              <li class="list-inline-item"><a class="text-uppercase text-color p-sm-2 py-2 px-0 d-inline-block" href="{% static 'toi/scholarship.html' %}">SCHOLARSHIP</a></li> -->
            <!-- <li class="list-inline-item"><a class="text-uppercase text-color p-sm-2 py-2 px-0 d-inline-block" href="#" data-toggle="modal" data-target="#loginModal">login</a></li>
              <li class="list-inline-item"><a class="text-uppercase text-color p-sm-2 py-2 px-0 d-inline-block" href="#" data-toggle="modal" data-target="#signupModal">register</a></li> -->
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- navbar -->
  <div class="navigation w-100">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="{% url 'home' %}"><img src="{% static 'toi/images/BitZetta1-removebg-preview.png' %}" style="width: 280px; height: auto;" alt="logo"></a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navigation">
          <ul class="navbar-nav ml-auto text-center">
            <li class="nav-item @@home">
              <a class="nav-link" href="{% url 'home' %}">Home</a>
            </li>
            <li class="nav-item @@about">
              <a class="nav-link" href="{% url 'about' %}">About</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="{% url 'courses' %}">COURSES</a>
            </li>
            <!-- <li class="nav-item @@events">
              <a class="nav-link" href="events.html">EVENTS</a>
            </li>
            <li class="nav-item @@blog">
              <a class="nav-link" href="blog.html}">BLOG</a>
            </li>
            <li class="nav-item dropdown view">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                Pages
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="{% url 'teacher' %}">Teacher</a>
                <a class="dropdown-item" href="{% url 'teacher_single' %}">Teacher Single</a>
                <a class="dropdown-item" href="{% url 'notice' %}">Notice</a>
                <a class="dropdown-item" href="{% url 'notice_single' %}">Notice Details</a>
              </div>
            </li>
            <li class="nav-item @@contact">
              <a class="nav-link" href="{% url 'contact' %}">CONTACT</a>
            </li> -->
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>
<!-- /header -->
<!-- Modal -->
<div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content rounded-0 border-0 p-4">
            <div class="modal-header border-0">
                <h3>Register</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="login">
                    <form action="#" class="row">
                        <div class="col-12">
                            <input type="text" class="form-control mb-3" id="signupPhone" name="signupPhone" placeholder="Phone">
                        </div>
                        <div class="col-12">
                            <input type="text" class="form-control mb-3" id="signupName" name="signupName" placeholder="Name">
                        </div>
                        <div class="col-12">
                            <input type="email" class="form-control mb-3" id="signupEmail" name="signupEmail" placeholder="Email">
                        </div>
                        <div class="col-12">
                            <input type="password" class="form-control mb-3" id="signupPassword" name="signupPassword" placeholder="Password">
                        </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary">SIGN UP</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content rounded-0 border-0 p-4">
            <div class="modal-header border-0">
                <h3>Login</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="#" class="row">
                    <div class="col-12">
                        <input type="text" class="form-control mb-3" id="loginPhone" name="loginPhone" placeholder="Phone">
                    </div>
                    <div class="col-12">
                        <input type="text" class="form-control mb-3" id="loginName" name="loginName" placeholder="Name">
                    </div>
                    <div class="col-12">
                        <input type="password" class="form-control mb-3" id="loginPassword" name="loginPassword" placeholder="Password">
                    </div>
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">LOGIN</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- page title -->
<section class="page-title-section overlay" data-background="images/backgrounds/page-title.jpg">
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <ul class="list-inline custom-breadcrumb">
          <li class="list-inline-item"><a class="h2 text-primary font-secondary" href="{% url 'courses' %}">Our Courses</a></li>
          <li class="list-inline-item text-white h3 font-secondary "></li>
        </ul>
        <p class="text-lighten">Our courses blend theoretical knowledge with practical skills, ensuring you are industry-ready and well-prepared for
        real-world challenges.</p>
      </div>
    </div>
  </div>
</section>
<!-- /page title -->

<div class="container">
  <div class="row">
    <div class="col-12">
      <div id="successMessage" class="alert d-none" style="font-size:20px"></div>
    </div>
  </div>
</div>

<!-- course form modal -->
<div class="modal fade" id="courseModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content rounded-0 border-0 p-4">
      <div class="modal-header border-0">
        <h3 id="dynamicHeading"> </h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="course_form"   class="row">
          {% csrf_token %}
          <div class="col-12">
            <input type="number" class="form-control mb-3" id="mobile" name="mobile" placeholder="Enter your contact no here">
          </div>
          <div class="col-12">
            <input type="text" class="form-control mb-3" id="name" name="name" placeholder="Enter your name here">
          </div>
          <div class="col-12">
            <input type="text" class="form-control mb-3" id="email" name="email"
              placeholder="Enter your email here">
          </div>
          <input type="hidden" id="courseId" name="courseId">
          <div class="col-12">
            <div id="warningText" class="text-danger mb-3"></div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- courses -->
<section class="section">
  <div class="container">
    <!-- course list -->
<div class="row justify-content-center">
  <!-- course item -->
   {% for course in courses %}
  <div class="col-lg-4 col-sm-6 mb-5">
    <div class="card p-0 border-primary rounded-0 hover-shadow" >
      <img class="card-img-top rounded-0" src="{% static 'toi/images/courses/' %}{{ course.course_name }}.jpeg"
        alt="course thumb">
      <div class="card-body">
        <ul class="list-inline mb-2">
          <li class="list-inline-item"><i class="ti-calendar mr-1 text-color"></i>02-14-2018</li>
          <!-- <li class="list-inline-item"><a class="text-color" href="#">Humanities</a></li> -->
        </ul>
        <a href="{% url 'course_single' %}">
          <h4 id="course_name" class="card-title">{{course.course_name}}</h4>
        </a>
        <div style="height:250px">
        <p class="card-text mb-4"> {{course.about_course}}</p>
        </div>
        <a href="#" class="btn btn-primary apply-now-btn" id="course_apply_btn" data-toggle="modal" data-course-id="{{course.id}}" data-course-name="{{course.course_name}}" data-target="#courseModal">Apply now</a>
      </div>
    </div>
  </div>
  {% endfor %}
  
</div>

<!-- /course list -->
  </div>
</section>
<!-- /courses -->

{% if show_footer %}
<!-- footer -->
<footer>
  <!-- newsletter -->
   
  <div class="newsletter">
    <div class="container">
      <div class="row">
        <div class="col-md-9 ml-auto bg-primary py-5 newsletter-block">
          <h3 class="text-white">Subscribe Now</h3>
          <form action="#">
            <div class="input-wrapper">
              <input type="email" class="form-control border-0" id="newsletter" name="newsletter" placeholder="Enter Your Email...">
              <button type="submit" value="send" class="btn btn-primary">Join</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- footer content -->
  <div class="footer bg-footer section border-bottom">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-sm-8 mb-5 mb-lg-0">
          <!-- logo -->
          <a class="logo-footer" href="{% url 'home' %}"><img class="img-fluid mb-4" src="{% static 'toi/images/logo.png' %}" alt="logo"></a>
          <ul class="list-unstyled">
            <li class="mb-2">23621 15 Mile Rd #C104, Clinton MI, 48035, New York, USA</li>
            <li class="mb-2">+1 (2) 345 6789</li>
            <li class="mb-2">+1 (2) 345 6789</li>
            <li class="mb-2">contact@yourdomain.com</li>
          </ul>
        </div>
        <!-- company -->
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5">COMPANY</h4>
          <ul class="list-unstyled">
            <li class="mb-3"><a class="text-color" href="{% url 'about' %}">About Us</a></li>
            <li class="mb-3"><a class="text-color" href="{% url 'teacher' %}">Our Teacher</a></li>
            <li class="mb-3"><a class="text-color" href="{% url 'contact' %}">Contact</a></li>
            <li class="mb-3"><a class="text-color" href="blog.html">Blog</a></li>
          </ul>
        </div>
        <!-- links -->
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5">LINKS</h4>
          <ul class="list-unstyled">
            <li class="mb-3"><a class="text-color" href="{% url 'courses' %}">Courses</a></li>
            <li class="mb-3"><a class="text-color" href="event.html">Events</a></li>
            <li class="mb-3"><a class="text-color" href="gallary.html">Gallary</a></li>
            <li class="mb-3"><a class="text-color" href="faqs.html">FAQs</a></li>
          </ul>
        </div>
        <!-- support -->
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5">SUPPORT</h4>
          <ul class="list-unstyled">
            <li class="mb-3"><a class="text-color" href="#">Forums</a></li>
            <li class="mb-3"><a class="text-color" href="#">Documentation</a></li>
            <li class="mb-3"><a class="text-color" href="#">Language</a></li>
            <li class="mb-3"><a class="text-color" href="#">Release Status</a></li>
          </ul>
        </div>
        <!-- support -->
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5">RECOMMEND</h4>
          <ul class="list-unstyled">
            <li class="mb-3"><a class="text-color" href="#">WordPress</a></li>
            <li class="mb-3"><a class="text-color" href="#">LearnPress</a></li>
            <li class="mb-3"><a class="text-color" href="#">WooCommerce</a></li>
            <li class="mb-3"><a class="text-color" href="#">bbPress</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- copyright -->
  <div class="copyright py-4 bg-footer">
    <div class="container">
      <div class="row">
        <div class="col-sm-7 text-sm-left text-center">
          <p class="mb-0">Copyright
            <script>
              var CurrentYear = new Date().getFullYear()
              document.write(CurrentYear)
            </script> 
            © Theme By <a href="https://themefisher.com">themefisher.com</a></p> . All Rights Reserved.
        </div>
        <div class="col-sm-5 text-sm-right text-center">
          <ul class="list-inline">
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://www.facebook.com/themefisher"><i class="ti-facebook text-primary"></i></a></li>
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://www.twitter.com/themefisher"><i class="ti-twitter-alt text-primary"></i></a></li>
            <li class="list-inline-item"><a class="d-inline-block p-2" href="#"><i class="ti-instagram text-primary"></i></a></li>
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://dribbble.com/themefisher"><i class="ti-dribbble text-primary"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>
<!-- /footer -->
 {% endif %}

<!-- jQuery -->
<script src="{% static 'toi/plugins/jQuery/jquery.min.js"></script>
<!-- Bootstrap JS -->
<script src="{% static 'toi/plugins/bootstrap/bootstrap.min.js"></script>
<!-- slick slider -->
<script src="{% static 'toi/plugins/slick/slick.min.js' %}"></script>
<!-- aos -->
<script src="{% static 'toi/plugins/aos/aos.js' %}"></script>
<!-- venobox popup -->
<script src="{% static 'toi/plugins/venobox/venobox.min.js' %}"></script>
<!-- mixitup filter -->
<script src="{% static 'toi/plugins/mixitup/mixitup.min.js' %}"></script>
<!-- google map -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU&libraries=places"></script>
<script src="{% static 'toi/plugins/google-map/gmap.js' %}"></script>

<!-- Main Script -->
<script src="{% static 'toi/js/script.js' %}"></script>
<!-- jQuery and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
  $(document).ready(function () {
    $('.apply-now-btn').click(function () {
      var courseId = $(this).data('course-id');
      $('#courseId').val(courseId);
    });
  });
</script>

<script>

  function validateEmail(email) {
      // Regular expression for basic email validation
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    function validateIndianMobileNumber(mobile) {
        const pattern = /^[6-9]\d{9}$/;
        return pattern.test(mobile);
      }



  $(document).ready(function () {

    $('#courseModal').on('show.bs.modal', function (event) {
      console.log("courseModal is opened")
      var button = $(event.relatedTarget); 
      var course_id = button.data('course-id'); 

      
      var course_name = button.data('course-name'); // Placeholder or fetched data
      console.log("course_id:", course_id + "course_name:", course_name)

      // Update the modal heading
      $('#dynamicHeading').text(`Register for ${course_name}`);
    });


    $("#course_form").on('submit',function(event){
      event.preventDefault();
      console.log("inside course_form submitted")
      let email = $("#email").val()
      let loginName = $("#name").val()
      let mobile = $("#mobile").val()
      let warningText = $("#warningText");
      let successMessage = $("#successMessage");
      let courseId = $("#courseId").val()

      console.log("email: ", email + " loginName: ", loginName + " mobile: ", mobile +"courseId:",courseId)

      warningText.text();
      successMessage.addClass('d-none').text('');

      let formdata = new FormData()
      formdata.append('email', email)
      formdata.append('loginName', loginName)
      formdata.append('mobile', mobile)
      formdata.append('courseId', courseId)
      

      if (email == "" || loginName == "" ) {
            warningText.text("All fields are required!!");
        setTimeout(function () {
          warningText.text(''); // Clear the message after 1.5 seconds
        }, 1500);
        return
      }

      else if (!validateIndianMobileNumber(mobile))
      {
         warningText.text("Invalid mobile number!!");
        setTimeout(function () {
          warningText.text(''); // Clear the message after 1.5 seconds
        }, 1500);
        return
      }

      else  if (!validateEmail(email)) {
        warningText.text("Invalid email address!!");
        setTimeout(function () {
          warningText.text(''); // Clear the message after 1.5 seconds
        }, 1500);
        return;
      }

      else{
        setTimeout(function(){

            $.ajax({
                url: '{% url "apply_course" %}',
                type:"POST",
                data:formdata,
                processData: false,
                contentType: false,
                success:function(response){
                  if (response.status)
                  {
                    $("#courseModal").modal('hide');

                    $('html, body').animate({ scrollTop: 5 }, 'slow');
                    setTimeout(function(){
                    successMessage.removeClass('d-none')
                    successMessage.text(response.message).removeClass('text-danger').addClass('text-success');
                      setTimeout(function(){
                        successMessage.text('').addClass('d-none');
                      },1500)
                    },1000)

                  }
                   else {
                    warningText.removeClass('d-none').text(response.message).removeClass('text-success').addClass('text-danger');
                    setTimeout(function(){
                      warningText.text('').addClass('d-none');
                    },1500)
                  }
                  
                },

                error: function (xhr, status, error) {
                  $('html, body').animate({ scrollTop: 0 }, 'fast');
                  successMessage.removeClass('d-none')
                  successMessage.text('An error occurred: ' + error).removeClass('text-success').addClass('text-danger');;
                }
              });
          },1500);
      }
    })

    

  });
</script>


</body>
</html>